<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Study Assistant</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Tangerine:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-image: linear-gradient(to top, #c471f5 20%, #fa71cd 60%); color: #333; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        p{font-family: 'Tangerine', serif; font-size : 32px; font-weight:bold;}
        header { font-weight:bold; text-align: center; margin-bottom: 30px; }
        header h1 { font-size: 2.5em; margin-bottom: 10px; font-weight : bold; }
        nav { display: flex; justify-content: center; border-bottom: 2px solid #ddd; margin-bottom: 30px; }
        .nav-btn { padding: 10px 20px; cursor: pointer; border: none; background: none; font-size: 1em; border-bottom: 3px solid transparent; }
        .nav-btn.active { border-bottom-color: #4f46e5; color: #4f46e5; font-weight: 600; }
        .page-content { display: none; }
        .page-content.active { display: block; }
        .card { background-color: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .card h2 { margin-top: 0; color: #4f46e5; }
        input[type="text"], textarea { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { padding: 10px 20px; border: none; border-radius: 5px; background-color: #4f46e5; color: white; cursor: pointer; font-size: 1em; width: 100%; }
        button:hover { background-color: #4338ca; }
        .input-group { display: flex; gap: 10px; }
        .input-group input { flex-grow: 1; margin-bottom: 0; }
        .input-group button { width: auto; }
        .output-box { margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 5px; min-height: 100px; border: 1px solid #e9ecef; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 2rem auto; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .quiz-question { padding: 15px; background-color: #f8f9fa; border-radius: 5px; margin-bottom: 10px; }
        .flashcard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .card-container { perspective: 1000px; }
        .flashcard { width: 100%; height: 150px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .flashcard.flipped { transform: rotateY(180deg); }
        .flashcard-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; padding: 1rem; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); text-align: center; }
        .flashcard-front { background-color: #4f46e5; color: white; }
        .flashcard-back { background-color: #f0fdf4; color: #166534; transform: rotateY(180deg); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Students AI Study-Buddy</h1>
            <p>Unlock your potential! ‚ú® Every step you take today is a step towards a brighter tomorrow. Let's get started!<br>Your personal AI tutor to simplify learning.</p>
        </header>
        <nav>
            <button data-target="page-explain" class="nav-btn">Explain Concept</button>
            <button data-target="page-summarize" class="nav-btn">Summarize Notes</button>
            <button data-target="page-quiz" class="nav-btn">Generate Quiz</button>
            <button data-target="page-flashcards" class="nav-btn">Create Flashcards</button>
        </nav>
        <main>
            <div id="page-explain" class="page-content card">
                <h2>Explain a Concept</h2><p>Stuck on a tough topic? Get a simple explanation.üíª</p>
                <div class="input-group"><input id="explain-input" type="text" placeholder="e.g., Quantum Entanglement"><button id="explain-btn">Explain</button></div>
                <div id="explain-output" class="output-box"></div>
            </div>
            <div id="page-summarize" class="page-content card">
                <h2>Summarize Your Notes</h2><p>Paste notes below for a concise summary.üóíÔ∏è</p>
                <textarea id="summarize-input" placeholder="Paste your notes here..." rows="8"></textarea><button id="summarize-btn">Summarize</button>
                <div id="summarize-output" class="output-box"></div>
            </div>
            <div id="page-quiz" class="page-content card">
                <h2>Generate a Quiz</h2><p>Enter a topic to create a multiple-choice quiz.üìö</p>
                <div class="input-group"><input id="quiz-input" type="text" placeholder="e.g., The French Revolution"><button id="quiz-btn">Generate</button></div>
                <div id="quiz-output" class="output-box"></div>
            </div>
            <div id="page-flashcards" class="page-content card">
                <h2>Create Flashcards</h2><p>Enter a topic to generate flipcardsüñ•</p>
                <div class="input-group"><input id="flashcard-input" type="text" placeholder="e.g., Key Terms in Biology"><button id="flashcard-btn">Create</button></div>
                <div id="flashcard-output" class="output-box flashcard-grid"></div>
            </div>
        </main>
    </div>
    <script>
        const explainBtn = document.getElementById('explain-btn'), explainInput = document.getElementById('explain-input'), explainOutput = document.getElementById('explain-output');
        const summarizeBtn = document.getElementById('summarize-btn'), summarizeInput = document.getElementById('summarize-input'), summarizeOutput = document.getElementById('summarize-output');
        const quizBtn = document.getElementById('quiz-btn'), quizInput = document.getElementById('quiz-input'), quizOutput = document.getElementById('quiz-output');
        const flashcardBtn = document.getElementById('flashcard-btn'), flashcardInput = document.getElementById('flashcard-input'), flashcardOutput = document.getElementById('flashcard-output');
        const apiKey = "AIzaSyBm_LepkoVKAeT-fF9pVaGFJ7ZfhWOvQ1o"; 

        async function callGemini(prompt, generationConfig = null) {
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            const payload = { contents: [{ parts: [{ text: prompt }] }] };
            if (generationConfig) payload.generationConfig = generationConfig;
            try {
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
                const result = await response.json();
                if (result.candidates?.[0]?.content?.parts?.[0]) return result.candidates[0].content.parts[0].text;
                return "Sorry, I couldn't generate a response.";
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                return `An error occurred: ${error.message}`;
            }
        }

        function showLoader(element) { element.innerHTML = '<div class="loader"></div>'; }

        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                document.getElementById(button.dataset.target).classList.add('active');
                button.classList.add('active');
            });
        });
        document.querySelector('.nav-btn').click();

        explainBtn.addEventListener('click', async () => {
            if (!explainInput.value) return;
            showLoader(explainOutput);
            const prompt = `Explain "${explainInput.value}" in simple terms for a high school student.`;
            explainOutput.innerHTML = (await callGemini(prompt)).replace(/\n/g, '<br>');
        });
        
        summarizeBtn.addEventListener('click', async () => {
            if (!summarizeInput.value) return;
            showLoader(summarizeOutput);
            const prompt = `Summarize these notes into key bullet points:\n\n${summarizeInput.value}`;
            summarizeOutput.innerHTML = (await callGemini(prompt)).replace(/\n/g, '<br>');
        });

        const quizSchema = { type: "ARRAY", items: { type: "OBJECT", properties: { question: { type: "STRING" }, options: { type: "ARRAY", items: { type: "STRING" } }, answer: { type: "STRING" } }, required: ["question", "options", "answer"] } };
        quizBtn.addEventListener('click', async () => {
            if (!quizInput.value) return;
            showLoader(quizOutput);
            const prompt = `Generate a 10-question multiple-choice quiz on "${quizInput.value}". One option must be the correct answer.`;
            try {
                const quizData = JSON.parse(await callGemini(prompt, { responseMimeType: "application/json", responseSchema: quizSchema }));
                quizOutput.innerHTML = quizData.map((q, i) => `<div class="quiz-question" id="q-container-${i}"><p><b>${i + 1}. ${q.question}</b></p><div>${q.options.map(opt => `<label><input type="radio" name="q${i}" value="${opt}"><span>${opt}</span></label>`).join('')}</div><div id="result-q${i}" style="margin-top:10px;font-weight:bold;"></div></div>`).join('');
                quizData.forEach((q, i) => document.getElementById(`q-container-${i}`).addEventListener('change', e => {
                    const resultEl = document.getElementById(`result-q${i}`);
                    resultEl.textContent = e.target.value === q.answer ? 'Correct!‚úÖÔ∏è' : `Incorrect‚ùå. Answer: ${q.answer}`;
                    resultEl.style.color = e.target.value === q.answer ? 'green' : 'red';
                }));
            } catch (e) { quizOutput.innerHTML = `<p style="color:red;">Could not generate quiz.</p>`; }
        });
        
        const flashcardSchema = { type: "ARRAY", items: { type: "OBJECT", properties: { term: { type: "STRING" }, definition: { type: "STRING" } }, required: ["term", "definition"] } };
        flashcardBtn.addEventListener('click', async () => {
            if (!flashcardInput.value) return;
            showLoader(flashcardOutput);
            const prompt = `Generate 8 flashcards for "${flashcardInput.value}" with a key term and its definition and images.`;
            try {
                const flashcardData = JSON.parse(await callGemini(prompt, { responseMimeType: "application/json", responseSchema: flashcardSchema }));
                flashcardOutput.innerHTML = flashcardData.map(card => `<div class="card-container"><div class="flashcard"><div class="flashcard-face flashcard-front"><h3>${card.term}</h3></div><div class="flashcard-face flashcard-back"><p>${card.definition}</p></div></div></div>`).join('');
                document.querySelectorAll('.flashcard').forEach(card => card.addEventListener('click', () => card.classList.toggle('flipped')));
            } catch (e) { flashcardOutput.innerHTML = `<p style="color:red;">Could not generate flashcards.</p>`; }
        });
    </script>
</body>
</html>

